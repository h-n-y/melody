(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+lLt":function(t,n,l){"use strict";l.r(n);var i=l("CcnG"),e=function(){},r=l("pMnS"),a=l("ZYCi"),s=l("Ip0R"),u=(l("NS7i"),l("Ie7a")),o=l("VQPA"),c=function(){function t(t,n,l,i){this.musicService=t,this.modalService=n,this.router=l,this.route=i}return t.prototype.fetchArtistForId=function(t){this.musicService.fetchArtistForId(t)},t.prototype.listenForArtist=function(){var t=this;this.musicService.artistForId$.subscribe(function(n){n.artist_id===t.artistId&&(t.artist=n,window.localStorage.setItem("artist",JSON.stringify(n)))})},t.prototype.listenForModalDismissal=function(){this.modalService.announceModalDismissal$.subscribe(function(){document.body.scrollTop=0})},t.prototype.onArtistNameClick=function(){this.router.navigate(["artist/"+this.artistId])},t.prototype.ngOnInit=function(){var t=this;this.artist=JSON.parse(window.localStorage.getItem("artist"))||[],this.listenForArtist(),this.listenForModalDismissal(),this.paramsSub=this.route.params.subscribe(function(n){t.artistId=+n.artistId,t.musicService.setCurrentArtistId(t.artistId),t.fetchArtistForId(t.artistId)})},t.prototype.ngOnDestroy=function(){this.paramsSub.unsubscribe(),this.musicService.clearCurrentArtistId()},t}(),p=i.qb({encapsulation:0,styles:[["#artist-details-page[_ngcontent-%COMP%]{padding-top:12px;display:flex;flex-direction:column;align-items:center}.primary-content[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px;padding-bottom:48px;width:100%}.artist-image[_ngcontent-%COMP%]{width:132px;height:132px;border-radius:50%;overflow:hidden;margin-left:auto;margin-right:auto}.artist-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.artist-details[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}.artist-details[_ngcontent-%COMP%]   .artist-name[_ngcontent-%COMP%]{color:#090909;margin-top:12px;margin-bottom:6px;cursor:pointer}@media (min-width:900px){.primary-content[_ngcontent-%COMP%]{width:50%}}"]],data:{}});function b(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,7,"div",[["class","primary-content"]],null,null,null,null,null)),(t()(),i.sb(1,0,null,null,1,"div",[["class","artist-image"]],null,null,null,null,null)),(t()(),i.sb(2,0,null,null,0,"img",[["alt","artist image placeholder"],["src","/assets/icons/avatar-large.png"],["srcset","/assets/icons/avatar-large.png 1x,\n                        /assets/icons/avatar-large@2x.png 2x"]],null,null,null,null,null)),(t()(),i.sb(3,0,null,null,2,"section",[["class","artist-details"]],null,null,null,null,null)),(t()(),i.sb(4,0,null,null,1,"h2",[["class","artist-name"]],null,[[null,"click"]],function(t,n,l){var i=!0;return"click"===n&&(i=!1!==t.component.onArtistNameClick()&&i),i},null,null)),(t()(),i.Eb(5,null,[" "," "])),(t()(),i.sb(6,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i.rb(7,212992,null,0,a.n,[a.b,i.R,i.k,[8,null],i.i],null,null)],function(t,n){t(n,7,0)},function(t,n){t(n,5,0,n.component.artist.artist_name)})}function d(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,2,"div",[["id","artist-details-page"]],null,null,null,null,null)),(t()(),i.jb(16777216,null,null,1,null,b)),i.rb(2,16384,null,0,s.i,[i.R,i.O],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,2,0,n.component.artist)},null)}var h=i.ob("ng-component",c,function(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,d,p)),i.rb(1,245760,null,0,c,[u.a,o.a,a.k,a.a],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),k=l("t3l4"),f=l("88Q5"),m=l("Edqf"),g=function(){function t(t,n,l){this.musicService=t,this.router=n,this.route=l,this.tracks=[],this.TableType=m.c}return Object.defineProperty(t.prototype,"noTracksAvailable",{get:function(){return 0===this.tracks.length},enumerable:!0,configurable:!0}),t.prototype.listenForArtistTracks=function(){var t=this;this.musicService.tracksForArtist$.subscribe(function(n){var l=n.tracks,i=l.length&&l[0].artist_id===t.artistId;0===l.length?console.log("NO TRACK RESULTS FOR ARTIST"):i?t.tracks=l:console.warn("id mismatch!!")})},t.prototype.fetchTracksForArtistWithId=function(t){this.musicService.fetchTracksForArtistWithId(t)},t.prototype.onSeeMoreTracksBtnClick=function(){this.router.navigate(["tracks"],{relativeTo:this.route})},t.prototype.onTrackSelected=function(t){this.router.navigate(["/track/"+t.track_id])},t.prototype.ngOnInit=function(){var t=this;this.listenForArtistTracks(),this.paramsSub=this.route.params.subscribe(function(n){t.artistId=+n.artistId,t.fetchTracksForArtistWithId(t.artistId)})},t}(),v=i.qb({encapsulation:0,styles:[[".no-results-label[_ngcontent-%COMP%]{text-align:center;color:#ccc;font-size:22px}"]],data:{}});function T(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,1,"app-table",[["title","Top Tracks"]],null,[[null,"seeMore"],[null,"trackSelected"]],function(t,n,l){var i=!0,e=t.component;return"seeMore"===n&&(i=!1!==e.onSeeMoreTracksBtnClick()&&i),"trackSelected"===n&&(i=!1!==e.onTrackSelected(l)&&i),i},k.b,k.a)),i.rb(1,49152,null,0,f.a,[],{tableType:[0,"tableType"],items:[1,"items"],title:[2,"title"],artistKnown:[3,"artistKnown"],seeMoreBtnVisible:[4,"seeMoreBtnVisible"]},{seeMore:"seeMore",trackSelected:"trackSelected"})],function(t,n){var l=n.component;t(n,1,0,l.TableType.Track,l.tracks,"Top Tracks",!0,!0)},null)}function S(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,1,"p",[["class","no-results-label"]],null,null,null,null,null)),(t()(),i.Eb(-1,null,[" No Tracks Available "]))],null,null)}function I(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,5,"div",[["class","artist-details-container"]],null,null,null,null,null)),(t()(),i.sb(1,0,null,null,4,"div",[["class","tracks-container"]],null,null,null,null,null)),(t()(),i.jb(16777216,null,null,1,null,T)),i.rb(3,16384,null,0,s.i,[i.R,i.O],{ngIf:[0,"ngIf"]},null),(t()(),i.jb(16777216,null,null,1,null,S)),i.rb(5,16384,null,0,s.i,[i.R,i.O],{ngIf:[0,"ngIf"]},null)],function(t,n){var l=n.component;t(n,3,0,l.tracks.length),t(n,5,0,l.noTracksAvailable)},null)}var y=i.ob("app-artist-details-container",g,function(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,1,"app-artist-details-container",[],null,null,null,I,v)),i.rb(1,114688,null,0,g,[u.a,a.k,a.a],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),A=function(){function t(t,n){this.router=t,this.musicService=n,this.TableType=m.c,this.pageSize=30,this.pageNumber=1,this.numTracksAvailable=0,this.moreTracksAvailable=!0,this.loadingTracks=!1,this.tracks=[]}return t.prototype.listenForTracks=function(){var t=this;this.musicService.tracksForArtist$.subscribe(function(n){t.loadingTracks=!1,t.numTracksAvailable=n.available,t.tracks=t.tracks.concat(n.tracks)})},t.prototype.fetchTracks=function(){this.musicService.fetchTracksForArtistWithId(this.artistId,this.pageNumber,this.pageSize),++this.pageNumber,this.numTracksAvailable&&(this.moreTracksAvailable=this.pageNumber*this.pageSize<=this.numTracksAvailable)},t.prototype.onLoadMoreBtnClick=function(){this.moreTracksAvailable?this.fetchTracks():console.log("--- NO MORE TRACKS AVAILABLE ---")},t.prototype.onTrackSelected=function(t){this.router.navigate(["/track/"+t.track_id])},t.prototype.ngOnInit=function(){this.listenForTracks(),this.artistId=this.musicService.getCurrentArtistId(),this.fetchTracks()},t}(),M=i.qb({encapsulation:0,styles:[[""]],data:{}});function F(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,1,"app-table",[["title","Tracks"]],null,[[null,"trackSelected"],[null,"loadMore"]],function(t,n,l){var i=!0,e=t.component;return"trackSelected"===n&&(i=!1!==e.onTrackSelected(l)&&i),"loadMore"===n&&(i=!1!==e.onLoadMoreBtnClick()&&i),i},k.b,k.a)),i.rb(1,49152,null,0,f.a,[],{tableType:[0,"tableType"],items:[1,"items"],title:[2,"title"],artistKnown:[3,"artistKnown"],loadMoreBtnVisible:[4,"loadMoreBtnVisible"],loading:[5,"loading"]},{loadMore:"loadMore",trackSelected:"trackSelected"})],function(t,n){var l=n.component;t(n,1,0,l.TableType.Track,l.tracks,"Tracks",!0,l.moreTracksAvailable,l.loadingTracks)},null)}function O(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,3,"div",[["class","artist-tracks-container"]],null,null,null,null,null)),(t()(),i.sb(1,0,null,null,2,"div",[["class","tracks-container"]],null,null,null,null,null)),(t()(),i.jb(16777216,null,null,1,null,F)),i.rb(3,16384,null,0,s.i,[i.R,i.O],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,3,0,n.component.tracks.length)},null)}var C=i.ob("app-artist-tracks-container",A,function(t){return i.Fb(0,[(t()(),i.sb(0,0,null,null,1,"app-artist-tracks-container",[],null,null,null,O,M)),i.rb(1,114688,null,0,A,[a.k,u.a],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),w=l("PCNd"),x=function(){};l.d(n,"ArtistModuleNgFactory",function(){return _});var _=i.pb(e,[],function(t){return i.yb([i.zb(512,i.k,i.eb,[[8,[r.a,h,y,C]],[3,i.k],i.z]),i.zb(4608,s.k,s.j,[i.w,[2,s.s]]),i.zb(1073742336,s.b,s.b,[]),i.zb(1073742336,w.a,w.a,[]),i.zb(1073742336,a.m,a.m,[[2,a.s],[2,a.k]]),i.zb(1073742336,x,x,[]),i.zb(1073742336,e,e,[]),i.zb(1024,a.i,function(){return[[{path:":artistId",component:c,children:[{path:"",component:g},{path:"tracks",component:A}]}]]},[])])})}}]);